<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      background: linear-gradient(to right, #ffaab4, #ee9ca7);
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
    }

    h1 {
      font-size: 5vw;
      color: #fff;
      text-shadow: 0 0 20px #ff4da6, 0 0 30px #ff99cc;
      animation: glow 2s ease-in-out infinite alternate;
      z-index: 10;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #ff4da6, 0 0 20px #ff99cc; }
      to { text-shadow: 0 0 30px #ff4da6, 0 0 50px #ff99cc; }
    }

    /* Envelope base */
    .envelope {
      position: relative;
      min-width: 240px;
      min-height: 160px;
      margin-top: 40px;
      cursor: pointer;
      z-index: 2;
      transition: transform 1s ease;
      width: 30vw;
      height: 20vw; /* maintain 3:2 aspect ratio */
    }

    /* Envelope body */
    .envelope .base {
      position: absolute;
      width: 100%;
      height: 100%;
      background: #fdcc77;
      border: 2px solid #ff7eb3;
      border-radius: 5px;
      z-index: 2;
      overflow: hidden;
    }

    /* Envelope flap */
    .envelope .flap {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #fdcc77, #ff758c);
      clip-path: polygon(0 0, 50% 50%, 100% 0);
      transform-origin: top;
      transition: transform 0.8s ease;
      z-index: 3;
    }

    .envelope.open .flap {
      transform: rotateX(180deg); /* flap opens */
    }

    /* Card inside */
    .card {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 120px;
      background: #fff8f0;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      text-align: center;
      padding: 15px;
      font-size: 2vw;
      color: #0d0d0d;
      transition: bottom 1s ease;
      z-index: 1; /* under the flap, above the envelope body */
    }

    .envelope.open .card {
      bottom: 140px; /* slides out */
    }

    /* Envelope fall */
    .envelope.fall {
      animation: fallDown 1s forwards;
    }

    @keyframes fallDown {
      to {
        transform: translateY(120vh) rotate(20deg);
        opacity: 0;
      }
    }

    /* Falling emojis */
    .falling {
      position: absolute;
      font-size: 2rem;
      top: -50px;
      animation: fall 5s linear forwards;
      opacity: 0.9;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes fall {
      0% { transform: translateY(0) rotate(0); }
      100% { transform: translateY(110vh) rotate(360deg); }
    }

    /* Blur background */
    #main-content.blur {
      filter: blur(6px);
      transition: filter 0.6s ease;
    }

    /* Zoom card */
   .card-zoom {
  position: fixed;
  background: #fff8f0;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  text-align: center;
  padding: 20px;
  font-size: 1.2em;
  color: #0d0d0d;
  z-index: 1000;
  transition: all 1s ease;
  transform: translate(-50%, -50%) scale(1);
}

    .envelope {
  margin: 40px auto 0 auto; /* auto left/right centers it */
}

.card-zoom {
  position: fixed;
  background: #fff8f0;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  text-align: center;
  padding: 20px;
  font-size: 1.2em;
  color: #0d0d0d;
  z-index: 1000;
  transition: all 1s ease;
  transform: translate(-50%, -50%) scale(1);
}

.close-btn {
  position: absolute;
  top: 8px;
  right: 12px;
  background: #ff6b81;
  border: none;
  color: white;
  font-size: 1.2em;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  transition: background 0.3s;
}

.close-btn:hover {
  background: #e84118;
}


  </style>
</head>
<body>
  <div id="main-content">
    <h1>üéâ Happy Birthday [Her Name]! üéâ</h1>

    <div class="envelope" id="envelope">
      <div class="base"></div>
      <div class="flap"></div>
      <div class="card">
        üíå Happy Birthday! <br>
        Wishing you love, joy, and endless smiles ‚ù§Ô∏è<br>
        Have a fantastic day! üéÇüéà<br>
        With all my love, Vishesh üíñ
      </div>
    </div>
  </div>
  <audio id="bg-music" loop>
  <source src="happy-birthday-357371.mp3" type="audio/mpeg">
</audio>


  <script>
    const envelope = document.getElementById("envelope");
    const mainContent = document.getElementById("main-content");
    let holdTimeout;
    const emojis = ["‚ù§Ô∏è","üéÅ","üíñ","üéâ","‚ú®"];

    function createFallingEmoji() {
      const emoji = document.createElement("div");
      emoji.classList.add("falling");
      emoji.innerText = emojis[Math.floor(Math.random() * emojis.length)];
      emoji.style.left = Math.random() * window.innerWidth + "px";
      emoji.style.fontSize = (20 + Math.random() * 30) + "px";
      document.body.appendChild(emoji);
      setTimeout(() => emoji.remove(), 5000);
    }

    function openEnvelope() {
  envelope.classList.add("open");

  // üé∂ Play music softly
  const music = document.getElementById("bg-music");
  music.volume = 0.3;
  music.play();

  // üéÅ Falling emojis (last longer now)
  const interval = setInterval(createFallingEmoji, 400);
  setTimeout(() => clearInterval(interval), 12000);

  // after card peeks out
  setTimeout(() => {
    // make envelope fall
    envelope.classList.add("fall");

    // duplicate card
    const originalCard = envelope.querySelector(".card");
    const rect = originalCard.getBoundingClientRect();

    const zoomCard = document.createElement("div");
    zoomCard.className = "card-zoom";
    zoomCard.innerHTML = originalCard.innerHTML;

    // Add close button
    const closeBtn = document.createElement("button");
    closeBtn.innerText = "‚úñ";
    closeBtn.className = "close-btn";
    zoomCard.appendChild(closeBtn);

    // match position & size
    zoomCard.style.top = rect.top + "px";
    zoomCard.style.left = rect.left + "px";
    zoomCard.style.width = rect.width + "px";
    zoomCard.style.height = rect.height + "px";

    document.body.appendChild(zoomCard);

    // Animate zoom to center
    requestAnimationFrame(() => {
      zoomCard.style.top = "50%";
      zoomCard.style.left = "50%";
      zoomCard.style.width = "320px";
      zoomCard.style.height = "auto";
      zoomCard.style.transform = "translate(-50%, -50%) scale(1.4)";
    });

    // Close button action
    closeBtn.addEventListener("click", () => {
      zoomCard.remove();
      envelope.classList.remove("open", "fall");
    });
  }, 1500);
}


    // Desktop hold
    envelope.addEventListener("mousedown", () => {
      holdTimeout = setTimeout(openEnvelope, 800);
    });
    envelope.addEventListener("mouseup", () => clearTimeout(holdTimeout));
    envelope.addEventListener("mouseleave", () => clearTimeout(holdTimeout));

    // Mobile hold
    envelope.addEventListener("touchstart", () => {
      holdTimeout = setTimeout(openEnvelope, 800);
    });
    envelope.addEventListener("touchend", () => clearTimeout(holdTimeout));
  </script>
</body>
</html>

